Описание
21 октября 2018 года GitHub столкнулась с инцидентом , который привел к уменьшению качества предоставляемых услуг на 24 часа. В течение хода инцидента на нескольких внутренних системах могла отображаться устаревшая информация, А также было невозможно создавать и публиковать сайты GitHub Pages. Проблемы начались после плановых работ вышедшего из строя оптического оборудования


Хронология
[21 октября 2018 г. 22:52 UTC] Плановые работы по замене вышедшего из строя оптического оборудования. Всвязи с этим последовало нарушение репликации баз данных. Всвязи с начавшимся процессом перевыьора лидера в каждой из баз фиксировались неправильные данные.

[21 октября 2018 г. 22:54 UTC] Системы мониторинга оповещают о неожиданном состоянии многочисленных систем. Инженеры начали работу над диагностикой.
[21 октября 2018 г. 23:07 UTC] Введен техперерыв и запрет на развертывание изменений чтобы предотвратить нарастающее несоответствие баз данных.
[21 октября 2018 г. 23:13 UTC] Подключение дополнительных инженеров. Принято решение принять риски долгого ухудшения обслуживания вместо потери данных пользователей.
[21 октября 2018 г. 23:19 UTC] Сборки GitHub Pages приостановлены вручную.
[22 октября 2018 г. 00:05 UTC] Начата разработка плана устранения несоответствий данных.
[22 октября 2018 г. 00:41 UTC] Запущен процесс резервного копирования всех затронутых кластеров БД
[22 октября 2018 г. 06:51 UTC] Несколько кластеров завершили восстановление из резервных копий
[22 октября 2018 г. 07:46 UTC] GitHub опубликовал запись в блоге, чтобы предоставить больше контекста пользователям.
[22 октября 2018 г. 11:12 UTC] Все основные базы данных снова установлены на Восточном побережье США. Это улучшило производительность сайта.
[22 октября 2018 г. 13:15 UTC] Приближение пиковой нагрузки сайта. Приняты действия по оптимизации расхождений.
[22 октября 2018 г. 16:24 UTC] Выполнено аварийное переключение на исходную топологию, устранено непосредственные проблемы с задержкой/доступностью.
[22 октября 2018 г. 16:45 UTC] Балансировка возросшей нагрузки
[22 октября 2018 г. 23:03 UTC] Инцидент устранен

Выводы
Этот инцидент привел к изменению нашего мышления относительно надежности сайта. Мы узнали, что более жесткий операционный контроль или улучшенное время отклика не являются достаточными гарантиями надежности сайта в такой сложной системе услуг, как наша. Чтобы поддержать эти усилия, мы также начнем системную практику проверки сценариев сбоев до того, как они смогут повлиять на вас. Эта работа будет включать будущие инвестиции в инструменты для внесения ошибок и хаос-инжиниринга на GitHub.
